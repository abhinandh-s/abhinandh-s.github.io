<p>RSS is a powerful way to stay updated with your favorite blogs, social media
channels, and other online content without being distracted by endless scrolling
on the actual platforms. <a href="https://newsboat.org/">Newsboat</a>, a terminal-based RSS
reader, is an excellent tool for this.</p>
<p>In this post, I'll guide you through how to set up your newsboat configuration
using Nix functions to generate RSS feeds from platforms like YouTube, Twitter,
Reddit, Instagram, and Spotify with less boilerplates. For more informations on
supported platforms visit <a href="https://rsshub.netlify.app/">rsshub</a>.</p>
<h1>Setting Up Nix Functions for RSS Feeds</h1>
<h1>Nix Functions</h1>
<p>In Nix, functions are written as follows:</p>
<h4>Single parameter</h4>
<pre style="background-color:#2b303b;"><code class="language-nix"><span style="color:#c0c5ce;">param1: {
</span><span style="color:#c0c5ce;">    # Function Body
</span><span style="color:#c0c5ce;">}
</span></code></pre>
<h4>Two parameters</h4>
<pre style="background-color:#2b303b;"><code class="language-nix"><span style="color:#c0c5ce;">param1: param2: {
</span><span style="color:#c0c5ce;">    # Function Body
</span><span style="color:#c0c5ce;">}
</span></code></pre>
<p>Here, param1, param2, and so on are the inputs (arguments) to the function. This
allows you to write reusable functions where you only need to provide specific
data, such as a username or unique ID, and the function handles the boilerplate
parts of the links.</p>
<p>You might notice that functions in Nix don’t have a name. Nix functions are
similar to closures in Rust, This means you can’t call them directly by name,
they are anonymous. To use them, you must bind the function to a variable. Once
bound, you can call the variable like a named function.</p>
<p>Here’s an example:</p>
<h3>without funtions</h3>
<pre style="background-color:#2b303b;"><code class="language-nix"><span style="color:#c0c5ce;">{ ... }:
</span><span style="color:#c0c5ce;">let
</span><span style="color:#c0c5ce;">in
</span><span style="color:#c0c5ce;">{
</span><span style="color:#c0c5ce;">    programs.newsboat = {
</span><span style="color:#c0c5ce;">        enable = true;
</span><span style="color:#c0c5ce;">        urls = [
</span><span style="color:#c0c5ce;">            {tags = [ &quot;articles&quot; ]; url = &quot;https://proton.me/blog/feed&quot;;}
</span><span style="color:#c0c5ce;">            { # normal way 
</span><span style="color:#c0c5ce;">                tags = [ &quot;youtube&quot; &quot;music&quot; ];
</span><span style="color:#c0c5ce;">                url = &quot;https://rsshub.app/youtube/user/@JFlaMusic&quot;;
</span><span style="color:#c0c5ce;">            }
</span><span style="color:#c0c5ce;">            { 
</span><span style="color:#c0c5ce;">                tags = [ &quot;youtube&quot; &quot;movies&quot; ];
</span><span style="color:#c0c5ce;">                url = &quot;https://rsshub.app/youtube/user/@DanMurrellMovies&quot;;
</span><span style="color:#c0c5ce;">            }
</span><span style="color:#c0c5ce;">            { 
</span><span style="color:#c0c5ce;">                tags = [ &quot;youtube&quot; &quot;programming&quot; ];
</span><span style="color:#c0c5ce;">                url = &quot;https://rsshub.app/youtube/user/@jonhoo&quot;;
</span><span style="color:#c0c5ce;">            }
</span><span style="color:#c0c5ce;">            { 
</span><span style="color:#c0c5ce;">                tags = [ &quot;youtube&quot; &quot;programming&quot; ];
</span><span style="color:#c0c5ce;">                url = &quot;https://rsshub.app/youtube/user/@ThePrimeagen&quot;;
</span><span style="color:#c0c5ce;">            }
</span><span style="color:#c0c5ce;">            # and so on...
</span><span style="color:#c0c5ce;">        ]
</span><span style="color:#c0c5ce;">    };
</span><span style="color:#c0c5ce;">}
</span></code></pre>
<h3>with funtions</h3>
<pre style="background-color:#2b303b;"><code class="language-nix"><span style="color:#c0c5ce;">{ ... }:
</span><span style="color:#c0c5ce;">let
</span><span style="color:#c0c5ce;">    Youtube = userName: tags: {
</span><span style="color:#c0c5ce;">        tags = tags;
</span><span style="color:#c0c5ce;">        url = &quot;https://rsshub.app/youtube/user/@${userName}&quot;;
</span><span style="color:#c0c5ce;">    };
</span><span style="color:#c0c5ce;">in
</span><span style="color:#c0c5ce;">    {
</span><span style="color:#c0c5ce;">    programs.newsboat = {
</span><span style="color:#c0c5ce;">        enable = true;
</span><span style="color:#c0c5ce;">        urls = [
</span><span style="color:#c0c5ce;">            {tags = [ &quot;articles&quot; ]; url = &quot;https://proton.me/blog/feed&quot;;}
</span><span style="color:#c0c5ce;">            (Youtube &quot;JFlaMusic&quot; [ &quot;youtube&quot; &quot;music&quot; ])
</span><span style="color:#c0c5ce;">            (Youtube &quot;DanMurrellMovies&quot; [ &quot;youtube&quot; &quot;movies&quot; ])
</span><span style="color:#c0c5ce;">            (Youtube &quot;jonhoo&quot; [ &quot;youtube&quot; &quot;programming&quot; ])
</span><span style="color:#c0c5ce;">            (Youtube &quot;ThePrimeagen&quot; [ &quot;youtube&quot; &quot;programming&quot; ])
</span><span style="color:#c0c5ce;">            # and so on...
</span><span style="color:#c0c5ce;">        ]
</span><span style="color:#c0c5ce;">    };
</span><span style="color:#c0c5ce;">}
</span></code></pre>
<p>This approach is much cleaner and simplifies debugging in the future. If the API
for RSS changes, you only need to update a single line in the function
definition, rather than rewriting all the occurrences.</p>
<h1>Final code</h1>
<pre style="background-color:#2b303b;"><code class="language-nix"><span style="color:#c0c5ce;">{ ... }:
</span><span style="color:#c0c5ce;">let
</span><span style="color:#c0c5ce;">instagramFeeds = users: map ( userNames: {
</span><span style="color:#c0c5ce;">    tags = [ &quot;instagram&quot; ];
</span><span style="color:#c0c5ce;">    url = &quot;https://rsshub.app/picuki/profile/${userNames}&quot;;
</span><span style="color:#c0c5ce;">    }) users;
</span><span style="color:#c0c5ce;">twitterFeeds = users: map ( userNames: {
</span><span style="color:#c0c5ce;">    tags = [ &quot;twitter&quot; ];
</span><span style="color:#c0c5ce;">    url = &quot;https://nitter.privacydev.net/${userNames}/rss&quot;;
</span><span style="color:#c0c5ce;">    }) users;
</span><span style="color:#c0c5ce;">redditFeeds = users: map ( userNames: {
</span><span style="color:#c0c5ce;">    tags = [ &quot;reddit&quot; ];
</span><span style="color:#c0c5ce;">    url = &quot;https://www.reddit.com/r/${userNames}.rss&quot;;
</span><span style="color:#c0c5ce;">    }) users;
</span><span style="color:#c0c5ce;">youTubeFeeds = users: map ( userNames: {
</span><span style="color:#c0c5ce;">    tags = [ &quot;youtube&quot; ];
</span><span style="color:#c0c5ce;">    url = &quot;https://rsshub.app/youtube/user/@${userNames}&quot;;
</span><span style="color:#c0c5ce;">    }) users;
</span><span style="color:#c0c5ce;">Youtube = userName: tags: {
</span><span style="color:#c0c5ce;">  tags = tags;
</span><span style="color:#c0c5ce;">  url = &quot;https://rsshub.app/youtube/user/@${userName}&quot;;
</span><span style="color:#c0c5ce;">};
</span><span style="color:#c0c5ce;">YoutubeId = channel_id: tags: {
</span><span style="color:#c0c5ce;">  tags = tags;
</span><span style="color:#c0c5ce;">  url = &quot;https://www.youtube.com/feeds/videos.xml?channel_id=${channel_id}&quot;;
</span><span style="color:#c0c5ce;">};
</span><span style="color:#c0c5ce;">YtMusicChart = category: countryCode: tags: {
</span><span style="color:#c0c5ce;">  tags = tags;
</span><span style="color:#c0c5ce;">  url = &quot;https://rsshub.app/youtube/charts/${category}/${countryCode}/RightNow&quot;;
</span><span style="color:#c0c5ce;">};
</span><span style="color:#c0c5ce;">Spotify = category: name: id: {
</span><span style="color:#c0c5ce;">  tags = [ &quot;music&quot; ];
</span><span style="color:#c0c5ce;">  url = &quot;https://rsshub.app/spotify/${category}/${id}&quot;;
</span><span style="color:#c0c5ce;">};
</span><span style="color:#c0c5ce;">in 
</span><span style="color:#c0c5ce;">{
</span><span style="color:#c0c5ce;">  programs.newsboat = {
</span><span style="color:#c0c5ce;">    enable = true;
</span><span style="color:#c0c5ce;">    browser = &quot;linkhandler&quot;;
</span><span style="color:#c0c5ce;">    autoReload = false;
</span><span style="color:#c0c5ce;">    urls = [
</span><span style="color:#c0c5ce;">      {tags = [ &quot;articles&quot; ]; url = &quot;https://feeds.feedburner.com/collabfund&quot;;}
</span><span style="color:#c0c5ce;">      (Youtube &quot;CinemaStellar&quot; [ &quot;youtube&quot; &quot;movies&quot; ])
</span><span style="color:#c0c5ce;">      (Youtube &quot;DanMurrellMovies&quot; [ &quot;youtube&quot; &quot;movies&quot; ])
</span><span style="color:#c0c5ce;">      (YoutubeId &quot;UC7YOGHUfC1Tb6E4pudI9STA&quot; [])
</span><span style="color:#c0c5ce;">      (YoutubeId &quot;UCP7WmQ_U4GB3K51Od9QvM0w&quot; [])
</span><span style="color:#c0c5ce;">      (YtMusicChart &quot;TopSongs&quot; &quot;in&quot; [ &quot;YtMusic&quot; ])
</span><span style="color:#c0c5ce;">      (Spotify &quot;playlist&quot; &quot;Top Songs - Global&quot; &quot;37i9dQZEVXbNG2KDcFcKOF&quot;)
</span><span style="color:#c0c5ce;">      (Spotify &quot;playlist&quot; &quot;Top Songs - India&quot; &quot;37i9dQZEVXbMWDif5SCBJq&quot;)
</span><span style="color:#c0c5ce;">      (Spotify &quot;artist&quot; &quot;Halsey&quot;            &quot;26VFTg2z8YR0cCuwLzESi2&quot;)
</span><span style="color:#c0c5ce;">      (Spotify &quot;artist&quot; &quot;The Chainsmokers&quot;  &quot;69GGBxA162lTqCwzJG5jLp&quot;)
</span><span style="color:#c0c5ce;">      ]
</span><span style="color:#c0c5ce;">      ++ youTubeFeeds [
</span><span style="color:#c0c5ce;">        &quot;jonhoo&quot;
</span><span style="color:#c0c5ce;">        &quot;LukeSmithxyz&quot;
</span><span style="color:#c0c5ce;">        &quot;NoBoilerplate&quot;
</span><span style="color:#c0c5ce;">        ]
</span><span style="color:#c0c5ce;">        ++ twitterFeeds [
</span><span style="color:#c0c5ce;">          &quot;jonhoo&quot;
</span><span style="color:#c0c5ce;">          &quot;MikaPikaZo&quot;
</span><span style="color:#c0c5ce;">        ]
</span><span style="color:#c0c5ce;">        ++ redditFeeds [
</span><span style="color:#c0c5ce;">          &quot;rust&quot;
</span><span style="color:#c0c5ce;">          &quot;nixos&quot;
</span><span style="color:#c0c5ce;">          &quot;unixporn&quot;
</span><span style="color:#c0c5ce;">        ]
</span><span style="color:#c0c5ce;">        ++ instagramFeeds [
</span><span style="color:#c0c5ce;">          &quot;kartikaaryan&quot;
</span><span style="color:#c0c5ce;">        ];
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    extraConfig = &#39;&#39;
</span><span style="color:#c0c5ce;">      bind-key j down
</span><span style="color:#c0c5ce;">      bind-key k up
</span><span style="color:#c0c5ce;">      &#39;&#39;;
</span><span style="color:#c0c5ce;">  };
</span><span style="color:#c0c5ce;">}
</span></code></pre>
